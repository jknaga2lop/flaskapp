{% extends 'base.html' %}

{% block head %}
<title>Index</title>
{% endblock head %}

{% block main_content %}
{% if error %}
<p style="color: red;">{{ error }}</p>
{% endif %}
<div>
    <h2>Profile List</h2>
</div>

<form action="/" method="post">
    <table class="index">
        <tr>
            <th>Profile Name</th>
            <th>Program No.</th>
            <th>Program ID</th>
            <th>Issue Date</th>
            <th>Actions</th>
        </tr>
        <!-- Loop all the data from Profile here later -->
        {% for profile in profiles %}
        <tr>
            <td>{{ profile.profile_name }}</td>
            <td>{{ profile.program_no }}</td>
            <td>{{ profile.program_id }}</td>
            <td>{{ profile.issue_date }}</td>
            <td>
                <button class = "btn-style" onclick="location.href='edit/{{profile.id}}';">Edit</button>
                <br>
                <button class = "btn-style" onclick="confirmDelete('{{ profile.profile_name }}', '{{ profile.id }}')">Delete</button>
            </td>
        </tr>
        {% endfor %}
        <!-- final row -->
        <tr>
            <td><input type="text" name="profile_name" required placeholder="Enter Profile Name"></td>
            <td><input type="number" name="program_no" placeholder="Enter Program No."></td>
            <td><input type="text" name="program_id" placeholder="Enter Program ID"></td>
            <td>{{ current_date }}</td> <!-- Issue Date will be left empty -->
            <td><input class = "btn-style" type="submit" value="Add New Profile"></td>
        </tr>
    </table>
</form>


{% endblock main_content %}
